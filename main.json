{
    "project": {
        "name": "Remembra",
        "tagline": "Master anything with the 1-4-7 Memory Retention System",
        "type": "React Native Web App (Cross-Platform)",
        "platforms": [
            "Web",
            "iOS",
            "Android"
        ],
        "architecture": "Serverless-First, Edge-Optimized",
        "cost": "$0 - Completely Free Tier"
    },
    "memorySystem": {
        "name": "1-4-7 Spaced Repetition Algorithm",
        "description": "Scientifically proven memory retention technique",
        "rules": {
            "initial": "Day 0 - Learn new material",
            "firstReview": "Day 1 - First reinforcement (24 hours)",
            "secondReview": "Day 4 - Second reinforcement (96 hours)",
            "thirdReview": "Day 7 - Third reinforcement (168 hours)",
            "mastery": "Day 30 - Optional mastery check"
        },
        "algorithm": {
            "type": "adaptive-spaced-repetition",
            "logic": "If user fails review, reset to Day 0. If success, extend to Day 30, then Day 90",
            "intervals": [
                1,
                4,
                7,
                30,
                90
            ],
            "difficultyWeights": {
                "easy": 1.3,
                "medium": 1.0,
                "hard": 0.8,
                "again": 0.0
            }
        }
    },
    "techStack": {
        "frontend": {
            "framework": "React Native Web + Expo",
            "uiLibrary": "React Native Paper + Custom Animations",
            "navigation": "Expo Router (File-based routing)",
            "stateManagement": "Zustand + React Query",
            "animations": {
                "library": "React Native Reanimated 3",
                "gestures": "React Native Gesture Handler",
                "charts": "React Native Skia + Victory Native"
            },
            "styling": {
                "engine": "NativeWind (Tailwind for RN)",
                "theme": "Dark-first design system",
                "icons": "Phosphor Icons (animated)"
            }
        },
        "backend": {
            "platform": "Supabase (PostgreSQL + Edge Functions)",
            "auth": "Supabase Auth (Magic Link + OAuth)",
            "database": "PostgreSQL with Row Level Security",
            "realtime": "Supabase Realtime for live updates",
            "storage": "Supabase Storage (for images/docs)",
            "edgeFunctions": "Deno-based serverless functions",
            "cronJobs": "pg_cron extension for scheduling"
        },
        "aiIntegration": {
            "primary": "Groq API (Free tier: 1M tokens/min, 14 req/min)",
            "fallback": "Cohere Trial (Unlimited with rate limits)",
            "features": [
                "Smart summarization",
                "Bullet point generation",
                "Flowchart generation (Mermaid syntax)",
                "Quiz generation",
                "Memory palace suggestions"
            ]
        },
        "notifications": {
            "local": "Expo Notifications (free unlimited local)",
            "push": "OneSignal Free Tier (10K subscribers)",
            "scheduling": "Background tasks with expo-task-manager"
        },
        "deployment": {
            "web": "Vercel (Hobby tier - unlimited)",
            "mobile": "EAS Build (Free tier: 30 builds/month)",
            "preview": "Expo Go for development"
        }
    },
    "databaseSchema": {
        "tables": {
            "profiles": {
                "id": "uuid (auth.users reference)",
                "username": "text",
                "avatar_url": "text",
                "timezone": "text default 'UTC'",
                "notification_preferences": "jsonb",
                "streak_count": "integer default 0",
                "total_reviews": "integer default 0",
                "created_at": "timestamp"
            },
            "categories": {
                "id": "uuid primary key",
                "user_id": "uuid references profiles",
                "name": "text",
                "color": "text (hex)",
                "icon": "text",
                "order_index": "integer",
                "is_default": "boolean default false",
                "created_at": "timestamp"
            },
            "memory_items": {
                "id": "uuid primary key",
                "user_id": "uuid references profiles",
                "category_id": "uuid references categories",
                "title": "text",
                "content": "text (encrypted)",
                "content_type": "enum['text', 'code', 'image', 'document', 'mixed']",
                "attachments": "jsonb[]",
                "difficulty": "enum['easy', 'medium', 'hard']",
                "status": "enum['learning', 'reviewing', 'mastered', 'archived']",
                "next_review_date": "date",
                "review_stage": "integer (0-4 representing 1,4,7,30,90)",
                "review_history": "jsonb[]",
                "ai_summary": "text",
                "ai_flowchart": "text (mermaid syntax)",
                "created_at": "timestamp",
                "updated_at": "timestamp"
            },
            "reviews": {
                "id": "uuid primary key",
                "memory_item_id": "uuid references memory_items",
                "scheduled_date": "date",
                "completed_date": "timestamp nullable",
                "performance": "enum['again', 'hard', 'medium', 'easy']",
                "time_spent_seconds": "integer",
                "notes": "text"
            },
            "streaks": {
                "id": "uuid primary key",
                "user_id": "uuid references profiles",
                "date": "date",
                "reviews_completed": "integer",
                "streak_broken": "boolean default false"
            }
        },
        "functions": {
            "schedule_reviews": "Trigger on memory_item insert - creates 1,4,7 day reviews",
            "update_streak": "Trigger on review completion - updates streak count",
            "cleanup_old_notifications": "Daily cron - removes processed notifications"
        }
    },
    "uiDesignSystem": {
        "theme": {
            "mode": "dark-first with light option",
            "colors": {
                "background": {
                    "primary": "#0A0A0F",
                    "secondary": "#12121A",
                    "tertiary": "#1A1A24",
                    "elevated": "#22222E"
                },
                "accent": {
                    "primary": "#6366F1",
                    "secondary": "#8B5CF6",
                    "gradient": [
                        "#6366F1",
                        "#8B5CF6",
                        "#EC4899"
                    ],
                    "success": "#10B981",
                    "warning": "#F59E0B",
                    "danger": "#EF4444"
                },
                "text": {
                    "primary": "#FAFAFA",
                    "secondary": "#A1A1AA",
                    "muted": "#71717A",
                    "inverse": "#18181B"
                }
            },
            "typography": {
                "fontFamily": "Inter",
                "sizes": {
                    "xs": 12,
                    "sm": 14,
                    "base": 16,
                    "lg": 18,
                    "xl": 20,
                    "2xl": 24,
                    "3xl": 30,
                    "4xl": 36
                }
            },
            "spacing": {
                "xs": 4,
                "sm": 8,
                "md": 16,
                "lg": 24,
                "xl": 32,
                "2xl": 48
            },
            "borderRadius": {
                "sm": 8,
                "md": 12,
                "lg": 16,
                "xl": 24,
                "full": 9999
            }
        },
        "animations": {
            "pageTransition": {
                "type": "shared-element",
                "duration": 400,
                "easing": "spring"
            },
            "cardPress": {
                "type": "scale-spring",
                "toValue": 0.96,
                "damping": 15,
                "stiffness": 300
            },
            "listItem": {
                "type": "fade-slide-up",
                "duration": 300,
                "stagger": 50
            },
            "progressRing": {
                "type": "svg-stroke",
                "duration": 1000,
                "easing": "ease-out"
            },
            "calendarDay": {
                "type": "breathe",
                "scale": [
                    1,
                    1.05,
                    1
                ],
                "duration": 2000
            }
        }
    },
    "screens": [
        {
            "id": "dashboard",
            "name": "Dashboard",
            "icon": "home",
            "layout": "scroll-view with sticky header",
            "sections": [
                {
                    "id": "header",
                    "type": "greeting-streak",
                    "content": {
                        "greeting": "dynamic based on time",
                        "streakFlame": "animated flame icon with count",
                        "progressRing": "daily goal completion %"
                    }
                },
                {
                    "id": "today-focus",
                    "type": "hero-card",
                    "title": "Today's Focus",
                    "subtitle": "3 reviews due",
                    "cta": "Start Review Session",
                    "gradient": [
                        "#6366F1",
                        "#8B5CF6"
                    ],
                    "animation": "pulse-glow"
                },
                {
                    "id": "calendar-strip",
                    "type": "horizontal-calendar",
                    "days": 14,
                    "indicators": {
                        "past": "completed dot",
                        "today": "highlighted ring",
                        "future": "scheduled dot",
                        "empty": "subtle line"
                    },
                    "onSelect": "showDayDetails"
                },
                {
                    "id": "categories",
                    "type": "horizontal-scroll",
                    "title": "Your Categories",
                    "addButton": true,
                    "card": {
                        "icon": "category-icon",
                        "name": "category-name",
                        "count": "active items",
                        "progress": "completion percentage",
                        "color": "category color"
                    }
                },
                {
                    "id": "quick-add",
                    "type": "floating-action-bar",
                    "position": "bottom",
                    "actions": [
                        {
                            "icon": "text-t",
                            "label": "Text",
                            "color": "#6366F1"
                        },
                        {
                            "icon": "code",
                            "label": "Code",
                            "color": "#10B981"
                        },
                        {
                            "icon": "image",
                            "label": "Image",
                            "color": "#F59E0B"
                        },
                        {
                            "icon": "file-text",
                            "label": "Doc",
                            "color": "#EC4899"
                        }
                    ],
                    "expandAnimation": "spring-scale"
                }
            ]
        },
        {
            "id": "calendar",
            "name": "Calendar",
            "icon": "calendar",
            "layout": "tab-view",
            "tabs": [
                "Month",
                "Week",
                "List"
            ],
            "features": {
                "monthView": {
                    "type": "custom-calendar",
                    "cellSize": "responsive",
                    "indicators": [
                        "dots for review count",
                        "heat-map intensity for workload"
                    ],
                    "selection": "multi-day range"
                },
                "weekView": {
                    "type": "timeline",
                    "hours": "8am - 10pm",
                    "blocks": "review sessions as cards"
                },
                "listView": {
                    "type": "grouped-list",
                    "groupBy": "date",
                    "sort": "time"
                }
            }
        },
        {
            "id": "review",
            "name": "Review",
            "icon": "brain",
            "layout": "full-screen-session",
            "modes": {
                "focus": {
                    "background": "darkened",
                    "card": "centered large",
                    "controls": "gesture-based",
                    "timer": "optional pomodoro"
                },
                "casual": {
                    "background": "normal",
                    "card": "standard size",
                    "controls": "button-based"
                }
            },
            "cardComponents": {
                "text": {
                    "type": "rich-text",
                    "features": [
                        "markdown",
                        "highlight",
                        "annotate"
                    ]
                },
                "code": {
                    "type": "syntax-highlighted",
                    "language": "auto-detect",
                    "theme": "dracula",
                    "features": [
                        "copy",
                        "run",
                        "explain"
                    ]
                },
                "image": {
                    "type": "zoomable",
                    "annotations": "drawable layers",
                    "ocr": "extract text from image"
                },
                "mixed": {
                    "type": "carousel",
                    "swipeable": true,
                    "indicators": true
                }
            },
            "ratingSystem": {
                "type": "4-button",
                "options": [
                    {
                        "label": "Again",
                        "color": "#EF4444",
                        "interval": "1 min"
                    },
                    {
                        "label": "Hard",
                        "color": "#F59E0B",
                        "interval": "10 min"
                    },
                    {
                        "label": "Good",
                        "color": "#6366F1",
                        "interval": "1 day"
                    },
                    {
                        "label": "Easy",
                        "color": "#10B981",
                        "interval": "4 days"
                    }
                ],
                "gesture": "swipe-to-rate"
            }
        },
        {
            "id": "library",
            "name": "Library",
            "icon": "books",
            "layout": "grid-with-filters",
            "views": [
                "Grid",
                "List",
                "Masonry"
            ],
            "filters": {
                "categories": "multi-select chips",
                "status": "tabs [All, Learning, Reviewing, Mastered]",
                "date": "range picker",
                "type": "content type icons",
                "search": "real-time with highlighting"
            },
            "card": {
                "preview": "first 3 lines or thumbnail",
                "badges": [
                    "category color dot",
                    "review stage",
                    "has AI summary"
                ],
                "actions": [
                    "quick review",
                    "edit",
                    "share",
                    "archive"
                ]
            }
        },
        {
            "id": "create",
            "name": "Create",
            "icon": "plus-circle",
            "layout": "wizard-modal",
            "steps": [
                {
                    "id": "type",
                    "title": "What are you learning?",
                    "options": [
                        {
                            "id": "text",
                            "icon": "text-t",
                            "label": "Notes & Text"
                        },
                        {
                            "id": "code",
                            "icon": "code",
                            "label": "Code Snippet"
                        },
                        {
                            "id": "image",
                            "icon": "image",
                            "label": "Image & Diagram"
                        },
                        {
                            "id": "document",
                            "icon": "file-text",
                            "label": "Document"
                        },
                        {
                            "id": "mixed",
                            "icon": "stack",
                            "label": "Mixed Content"
                        }
                    ]
                },
                {
                    "id": "content",
                    "dynamic": "based on type",
                    "editor": "rich-text with toolbar",
                    "aiAssist": "floating button for suggestions"
                },
                {
                    "id": "categorize",
                    "category": "select or create",
                    "difficulty": "self-assessment",
                    "tags": "auto-suggest from content"
                },
                {
                    "id": "preview",
                    "aiSummary": "generated bullet points",
                    "flowchart": "auto-generated visual",
                    "schedule": "1-4-7 dates shown",
                    "confirm": "add to learning queue"
                }
            ]
        },
        {
            "id": "ai-tools",
            "name": "AI Studio",
            "icon": "sparkles",
            "layout": "tool-grid",
            "tools": [
                {
                    "id": "summarizer",
                    "name": "Smart Summary",
                    "input": "paste text or select item",
                    "output": "bullet points, key concepts, questions"
                },
                {
                    "id": "flowchart",
                    "name": "Visual Mapper",
                    "input": "text or outline",
                    "output": "interactive flowchart (Mermaid)",
                    "export": "PNG, SVG, share"
                },
                {
                    "id": "quiz",
                    "name": "Quiz Generator",
                    "input": "select items or paste content",
                    "output": "multiple choice, flashcards, typing",
                    "mode": "practice or test"
                },
                {
                    "id": "memory-palace",
                    "name": "Memory Palace",
                    "input": "list of items to remember",
                    "output": "visual journey with loci suggestions",
                    "vr": "optional 3D view"
                },
                {
                    "id": "chat",
                    "name": "Study Buddy",
                    "type": "conversational",
                    "context": "your learning materials",
                    "features": [
                        "explain like I'm 5",
                        "find connections",
                        "create analogies"
                    ]
                }
            ]
        },
        {
            "id": "stats",
            "name": "Insights",
            "icon": "chart-line",
            "layout": "dashboard",
            "widgets": [
                {
                    "id": "retention-curve",
                    "type": "line-chart",
                    "data": "memory strength over time",
                    "prediction": "future retention"
                },
                {
                    "id": "category-breakdown",
                    "type": "donut-chart",
                    "data": "time spent per category"
                },
                {
                    "id": "heatmap",
                    "type": "calendar-heatmap",
                    "data": "daily activity intensity"
                },
                {
                    "id": "achievements",
                    "type": "badge-grid",
                    "badges": [
                        "7 Day Streak",
                        "100 Reviews",
                        "Code Master",
                        "Speed Reader",
                        "AI Explorer"
                    ]
                }
            ]
        }
    ],
    "aiFeatures": {
        "providers": {
            "primary": {
                "name": "Groq",
                "model": "llama-3.1-70b-versatile",
                "freeTier": "1M tokens/min, 14 req/min",
                "useFor": [
                    "summarization",
                    "chat",
                    "quiz generation"
                ]
            },
            "secondary": {
                "name": "Cohere",
                "model": "command-r",
                "freeTier": "Trial unlimited",
                "useFor": [
                    "embeddings",
                    "classification"
                ]
            }
        },
        "features": [
            {
                "id": "auto-summarize",
                "trigger": "on save",
                "output": "3-5 bullet points, key terms highlighted",
                "storage": "ai_summary field"
            },
            {
                "id": "flowchart-gen",
                "trigger": "on demand",
                "format": "Mermaid syntax",
                "render": "react-native-mermaid or webview",
                "interactivity": "tap nodes for details"
            },
            {
                "id": "smart-schedule",
                "trigger": "adaptive",
                "logic": "adjust 1-4-7 based on performance",
                "input": "review history",
                "output": "personalized intervals"
            },
            {
                "id": "content-enhance",
                "trigger": "manual",
                "options": [
                    "Explain this concept",
                    "Give me an analogy",
                    "Connect to previous learning",
                    "Generate practice questions",
                    "Create a mnemonic"
                ]
            },
            {
                "id": "ocr-extraction",
                "trigger": "on image upload",
                "service": "Google ML Kit (free, on-device)",
                "output": "extracted text + suggested tags"
            }
        ]
    },
    "notificationSystem": {
        "types": {
            "scheduled": {
                "title": "Time to Review",
                "body": "{count} items waiting for reinforcement",
                "timing": "9:00 AM default, customizable",
                "channel": "high-priority"
            },
            "streak": {
                "title": "Keep it up! ðŸ”¥",
                "body": "You're on a {count} day streak. Review now to maintain it!",
                "timing": "8:00 PM if not completed",
                "channel": "reminder"
            },
            "achievement": {
                "title": "Achievement Unlocked!",
                "body": "{badge_name} - {description}",
                "channel": "celebration"
            },
            "ai-insight": {
                "title": "Study Insight",
                "body": "You're struggling with {category}. Try reviewing these concepts...",
                "timing": "weekly analysis",
                "channel": "insights"
            }
        },
        "smartFeatures": {
            "doNotDisturb": "respect system settings",
            "quietHours": "customizable",
            "batching": "group multiple reviews into one notification",
            "adaptive": "learn optimal notification times based on response rate"
        }
    },
    "offlineStrategy": {
        "sync": {
            "engine": "WatermelonDB or React Native MMKV",
            "strategy": "optimistic UI with background sync",
            "conflictResolution": "last-write-wins with manual merge option"
        },
        "storage": {
            "images": "base64 in SQLite + file system",
            "documents": "local file URIs with metadata in DB",
            "aiResults": "cache for 7 days"
        },
        "queue": {
            "actions": "create, update, delete, review",
            "retry": "exponential backoff",
            "notification": "badge when sync pending"
        }
    },
    "developmentWorkflow": {
        "phase1": {
            "name": "Core MVP",
            "duration": "2 weeks",
            "features": [
                "Dashboard with calendar strip",
                "Basic create (text only)",
                "1-4-7 scheduling",
                "Simple review mode",
                "Local notifications"
            ]
        },
        "phase2": {
            "name": "Content Richness",
            "duration": "2 weeks",
            "features": [
                "Code editor with syntax highlighting",
                "Image upload with OCR",
                "Document attachments",
                "Mixed content cards",
                "Categories system"
            ]
        },
        "phase3": {
            "name": "AI Integration",
            "duration": "2 weeks",
            "features": [
                "Groq API integration",
                "Auto-summarization",
                "Flowchart generation",
                "Quiz generator",
                "Study buddy chat"
            ]
        },
        "phase4": {
            "name": "Polish & Scale",
            "duration": "2 weeks",
            "features": [
                "Advanced animations",
                "Statistics dashboard",
                "Social features (optional)",
                "Performance optimization",
                "Web deployment"
            ]
        }
    },
    "freeTierLimits": {
        "supabase": {
            "database": "500MB",
            "bandwidth": "5GB/month",
            "auth": "50K users/month",
            "storage": "1GB",
            "edgeFunctions": "500K invocations/month"
        },
        "vercel": {
            "bandwidth": "100GB/month",
            "builds": "6000 minutes/month",
            "functions": "Serverless functions included"
        },
        "groq": {
            "rate": "1M tokens/minute",
            "requests": "14 requests/minute",
            "strategy": "client-side rate limiting with queue"
        },
        "onesignal": {
            "subscribers": "10K",
            "messages": "unlimited"
        }
    },
    "agenticPrompt": {
        "role": "You are an expert React Native developer and UI/UX designer specializing in educational apps with AI integration.",
        "context": "Building Remembra - a 1-4-7 spaced repetition memory app with rich content support, AI features, and beautiful animations.",
        "constraints": [
            "ZERO cost - use only free tiers",
            "Cross-platform: Web, iOS, Android",
            "Dark-first UI with purple/indigo accents",
            "Ultra-smooth 60fps animations",
            "Works offline with smart sync"
        ],
        "deliverables": [
            "Complete Expo project structure",
            "Supabase schema and migrations",
            "All screen components with animations",
            "AI integration modules",
            "Notification scheduling system",
            "Deployment configuration"
        ],
        "codingStandards": {
            "architecture": "Feature-based folder structure",
            "state": "Zustand for global, React Query for server",
            "styling": "NativeWind with custom theme",
            "components": "Atomic design - atoms, molecules, organisms",
            "performance": "React.memo, useMemo, virtualization for lists"
        },
        "keyTechnicalDecisions": {
            "navigation": "Expo Router for universal routing",
            "database": "Supabase with realtime subscriptions",
            "animations": "Reanimated 3 for UI thread animations",
            "richText": "React Native Pell Rich Editor",
            "codeHighlight": "React Native Syntax Highlighter",
            "charts": "Victory Native XL with Skia",
            "images": "Expo Image with blurhash placeholders"
        }
    }
}